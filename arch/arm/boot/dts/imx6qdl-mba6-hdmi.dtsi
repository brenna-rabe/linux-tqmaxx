// SPDX-License-Identifier: GPL-2.0-only
/*
 * Copyright 2015-2022 TQ-Systems GmbH
 * Author: Markus Niebel <Markus.Niebel@tq-group.com>
 * Author: Alexander Stein <Alexander.Stein@tq-group.com>
 */

/* DDC */
&i2c2 {
	clock-frequency = <100000>;
	pinctrl-names = "default", "gpio";
	pinctrl-0 = <&pinctrl_i2c2>;
	pinctrl-1 = <&pinctrl_i2c2_recovery>;
	scl-gpios = <&gpio4 12 (GPIO_ACTIVE_HIGH | GPIO_OPEN_DRAIN)>;
	sda-gpios = <&gpio4 13 (GPIO_ACTIVE_HIGH | GPIO_OPEN_DRAIN)>;
	status = "okay";
};

&hdmi {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_hdmi>;
	ddc-i2c-bus = <&i2c2>;
	status = "okay";
};

&iomuxc {
	pinctrl_hdmi: hdmigrp {
		/* NOTE: DDC is done via I2C2, so DON'T
		 * configure DDC pins for HDMI!
		 */
		fsl,pins = <
			MX6QDL_PAD_EIM_A25__HDMI_TX_CEC_LINE 0x1f8b0
		>;
	};

	pinctrl_i2c2: i2c2grp {
		fsl,pins = <
			MX6QDL_PAD_KEY_COL3__I2C2_SCL 0x4001b899
			MX6QDL_PAD_KEY_ROW3__I2C2_SDA 0x4001b899
		>;
	};

	pinctrl_i2c2_recovery: i2c2recoverygrp {
		fsl,pins = <
			MX6QDL_PAD_KEY_COL3__GPIO4_IO12 0x4001b899
			MX6QDL_PAD_KEY_ROW3__GPIO4_IO13 0x4001b899
		>;
	};
};
