/*
 * Copyright 2015 Markus Niebel, TQ Systems GmbH
 *
 * The code contained herein is licensed under the GNU General Public
 * License. You may obtain a copy of the GNU General Public License
 * Version 2 or later at the following locations:
 *
 * http://www.opensource.org/licenses/gpl-license.html
 * http://www.gnu.org/copyleft/gpl.html
 */

/ {
	backlight_ldb: backlight@0 {
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_backlight>;
		compatible = "pwm-backlight";
		pwms = <&pwm1 0 62500>;
		brightness-levels = <0 16 32 64 96 128 160 192 224 255>;
		default-brightness-level = <5>;
		power-supply = <&reg_mba6_3p3v>;
		enable-gpios = <&gpio4 5 GPIO_ACTIVE_HIGH>;
		status = "okay";
	};
};

&ldb {
	status = "okay";

	lvds-channel@0 {
		fsl,data-mapping = "spwg";
		fsl,data-width = <24>;
		native-mode = <&chimei_g104_x1>;
		status = "okay";

		display-timings {
			chimei_g104_x1: chimei-g104-x1 {
				clock-frequency = <55000000 65000000 75000000>;
				hactive = <1024>;
				vactive = <768>;
				hfront-porch = <75>;
				hback-porch = <10>;
				hsync-len = <76 255 776>; /* FIXME: typ < 256!*/
				vback-porch = <100>;
				vfront-porch = <10>;
				vsync-len = <2 38 182>;
				de-active = <1>;
				hsync-active = <0>;
				vsync-active = <0>;
			};
		};
	};

	lvds-channel@1 {
		status = "disabled";
	};
};

&iomuxc {
	imx6qdl-mba6 {
		pinctrl_backlight: backlightgrp {
			fsl,pins = <
				/* LCD.BLT_EN */
				MX6QDL_PAD_GPIO_19__GPIO4_IO05 0x0001b099
			>;
		};
	};
};

