// SPDX-License-Identifier: GPL-2.0+ OR MIT
/*
 * Copyright (C) 2016 - 2019 TQ Systems GmbH
 * Author: Marco Felsch
 * Author: Markus Niebel <Markus.Niebel@tq-group.com>
 */

/ {
	/* ETM0700G0EDH6, DS 2016/04/06, ver 3 */
	display_etm0700: display {
		bits-per-pixel = <32>; /* 32: RGB8880 */
		bus-width = <18>;

		display-timings {
			native-mode = <&timing1>;
			timing1: 800x480p62 {
				clock-frequency = <33260000>;
				hactive = <800>;
				vactive = <480>;
				hfront-porch = <40>;
				hsync-len = <128>;
				hback-porch = <88>;
				vfront-porch = <10>;
				vsync-len = <2>;
				vback-porch = <33>;
				hsync-active = <0>;
				vsync-active = <0>;
				de-active = <1>;
				pixelclk-active = <0>;
			};
		};
	};
};

&backlight {
	/* 1 kHz as stated by GLYN FAE */
	pwms = <&pwm1 0 1000000 1>;
	brightness-levels = <16 32 64 96 128 160 180 200 255>;
	default-brightness-level = <5>;
	status = "okay";
};

&lcdif {
	display = <&display_etm0700>;
	status = "okay";
};

&polytouch {
	gain = <1>;
	offset = <0>;
	threshold = <0x0f>;

	/* no wake gpio for this variant */
	/delete-property/ wake-gpios;

	/*
	 * do not use size settings, display touch reads
	 * out and uses 1792 x 1024 (tested with ETM0700G0EDH6)
	 */

	status = "okay";
};
