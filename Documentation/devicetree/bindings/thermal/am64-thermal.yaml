# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/thermal/am64-thermal.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Texas Instruments AM64x VTM binding

maintainers:
  - Matthias Schiffer <matthias.schiffer@ew.tq-group.com>

properties:
  compatible:
    const: ti,am64-vtm

  reg:
    minItems: 2
    maxItems: 2

  reg-names:
    minItems: 2
    maxItems: 2
    items:
      - const: cfg1
      - const: cfg2

  power-domains:
    maxItems: 1

  "#thermal-sensor-cells":
    const: 1

required:
  - compatible
  - reg
  - reg-names
  - power-domains
  - "#thermal-sensor-cells"

additionalProperties: false

examples:
  - |
    #include <dt-bindings/soc/ti,sci_pm_domain.h>
    vtm0: temperature-sensor@b00000 {
        compatible = "ti,am64-vtm";
        reg = <0x00 0x00b00000 0x00 0x400>,
              <0x00 0x00b01000 0x00 0x400>;
        reg-names = "cfg1", "cfg2";
        power-domains = <&k3_pds 95 TI_SCI_PD_EXCLUSIVE>;
        #thermal-sensor-cells = <1>;
    };

    thermal_zones: thermal-zones {
        mpu0_thermal: mpu0-thermal {
            polling-delay-passive = <250>; /* milliseconds */
            polling-delay = <500>; /* milliseconds */
            thermal-sensors = <&vtm0 0>;

            trips {
                mpu0_crit: mpu0-crit {
                    temperature = <105000>; /* milliCelsius */
                    hysteresis = <2000>; /* milliCelsius */
                    type = "critical";
                };
            };
        };

        mpu1_thermal: mpu1-thermal {
            polling-delay-passive = <250>; /* milliseconds */
            polling-delay = <500>; /* milliseconds */
            thermal-sensors = <&vtm0 1>;

            trips {
                mpu1_crit: mpu1-crit {
                    temperature = <105000>; /* milliCelsius */
                    hysteresis = <2000>; /* milliCelsius */
                    type = "critical";
                };
            };
        };
    };
...
